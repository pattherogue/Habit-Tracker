{"ast":null,"code":"var _jsxFileName = \"/Users/paologomez/Desktop/capstone-project-two-a2dff45ec95449c1a063b7d4d4ff347b/client/src/components/Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Button, Alert } from 'react-bootstrap';\nimport HabitList from './HabitList';\nimport HabitForm from './HabitForm';\nimport { fetchHabits, createHabit, getUserData, getHabitStatistics } from '../services/api';\nimport { Chart } from \"react-google-charts\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const [habits, setHabits] = useState([]);\n  const [showForm, setShowForm] = useState(false);\n  const [error, setError] = useState(null);\n  const [userName, setUserName] = useState('');\n  const [statistics, setStatistics] = useState({\n    today: 0,\n    week: 0,\n    month: 0\n  });\n  useEffect(() => {\n    loadHabits();\n    fetchUserName();\n    fetchStatistics();\n  }, []);\n  const loadHabits = async () => {\n    try {\n      const data = await fetchHabits();\n      setHabits(data);\n      setError(null);\n    } catch (error) {\n      console.error('Error loading habits:', error);\n      setError('Failed to load habits. Please try again.');\n    }\n  };\n  const fetchUserName = async () => {\n    try {\n      const userData = await getUserData();\n      setUserName(userData.name);\n    } catch (error) {\n      console.error('Error fetching user data:', error);\n    }\n  };\n  const fetchStatistics = async () => {\n    try {\n      const stats = await getHabitStatistics();\n      setStatistics(stats);\n    } catch (error) {\n      console.error('Error fetching habit statistics:', error);\n    }\n  };\n  const handleCreateHabit = async habitData => {\n    try {\n      await createHabit(habitData);\n      setShowForm(false);\n      loadHabits();\n      fetchStatistics();\n      setError(null);\n    } catch (error) {\n      console.error('Error creating habit:', error);\n      setError('Failed to create habit. Please try again.');\n    }\n  };\n  const chartData = [['Habit', 'Completion Rate'], ...habits.map(habit => [habit.name, habit.completionRate || 0])];\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Welcome, \", userName, \"!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Today's Progress\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [statistics.today, \"% of habits completed\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"This Week\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [statistics.week, \"% of habits completed\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"This Month\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [statistics.month, \"% of habits completed\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 8,\n        children: [/*#__PURE__*/_jsxDEV(HabitList, {\n          habits: habits,\n          onHabitUpdate: loadHabits\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setShowForm(!showForm),\n          className: \"mt-3\",\n          children: showForm ? 'Cancel' : 'Add New Habit'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), showForm && /*#__PURE__*/_jsxDEV(HabitForm, {\n          onSubmit: handleCreateHabit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(Chart, {\n          width: '100%',\n          height: '300px',\n          chartType: \"PieChart\",\n          loader: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Loading Chart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 21\n          }, this),\n          data: chartData,\n          options: {\n            title: 'Habit Completion Rates'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s(Dashboard, \"kcMtqCFwvJdKQ4BtNWzvI9yh3xQ=\");\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","Container","Row","Col","Button","Alert","HabitList","HabitForm","fetchHabits","createHabit","getUserData","getHabitStatistics","Chart","jsxDEV","_jsxDEV","Dashboard","_s","habits","setHabits","showForm","setShowForm","error","setError","userName","setUserName","statistics","setStatistics","today","week","month","loadHabits","fetchUserName","fetchStatistics","data","console","userData","name","stats","handleCreateHabit","habitData","chartData","map","habit","completionRate","children","fileName","_jsxFileName","lineNumber","columnNumber","variant","className","md","onHabitUpdate","onClick","onSubmit","width","height","chartType","loader","options","title","_c","$RefreshReg$"],"sources":["/Users/paologomez/Desktop/capstone-project-two-a2dff45ec95449c1a063b7d4d4ff347b/client/src/components/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Row, Col, Button, Alert } from 'react-bootstrap';\nimport HabitList from './HabitList';\nimport HabitForm from './HabitForm';\nimport { fetchHabits, createHabit, getUserData, getHabitStatistics } from '../services/api';\nimport { Chart } from \"react-google-charts\";\n\nfunction Dashboard() {\n  const [habits, setHabits] = useState([]);\n  const [showForm, setShowForm] = useState(false);\n  const [error, setError] = useState(null);\n  const [userName, setUserName] = useState('');\n  const [statistics, setStatistics] = useState({ today: 0, week: 0, month: 0 });\n\n  useEffect(() => {\n    loadHabits();\n    fetchUserName();\n    fetchStatistics();\n  }, []);\n\n  const loadHabits = async () => {\n    try {\n      const data = await fetchHabits();\n      setHabits(data);\n      setError(null);\n    } catch (error) {\n      console.error('Error loading habits:', error);\n      setError('Failed to load habits. Please try again.');\n    }\n  };\n\n  const fetchUserName = async () => {\n    try {\n      const userData = await getUserData();\n      setUserName(userData.name);\n    } catch (error) {\n      console.error('Error fetching user data:', error);\n    }\n  };\n\n  const fetchStatistics = async () => {\n    try {\n      const stats = await getHabitStatistics();\n      setStatistics(stats);\n    } catch (error) {\n      console.error('Error fetching habit statistics:', error);\n    }\n  };\n\n  const handleCreateHabit = async (habitData) => {\n    try {\n      await createHabit(habitData);\n      setShowForm(false);\n      loadHabits();\n      fetchStatistics();\n      setError(null);\n    } catch (error) {\n      console.error('Error creating habit:', error);\n      setError('Failed to create habit. Please try again.');\n    }\n  };\n\n  const chartData = [\n    ['Habit', 'Completion Rate'],\n    ...habits.map(habit => [habit.name, habit.completionRate || 0])\n  ];\n\n  return (\n    <Container>\n      <h1>Welcome, {userName}!</h1>\n      {error && <Alert variant=\"danger\">{error}</Alert>}\n      <Row className=\"mb-4\">\n        <Col md={4}>\n          <h3>Today's Progress</h3>\n          <p>{statistics.today}% of habits completed</p>\n        </Col>\n        <Col md={4}>\n          <h3>This Week</h3>\n          <p>{statistics.week}% of habits completed</p>\n        </Col>\n        <Col md={4}>\n          <h3>This Month</h3>\n          <p>{statistics.month}% of habits completed</p>\n        </Col>\n      </Row>\n      <Row>\n        <Col md={8}>\n          <HabitList habits={habits} onHabitUpdate={loadHabits} />\n          <Button onClick={() => setShowForm(!showForm)} className=\"mt-3\">\n            {showForm ? 'Cancel' : 'Add New Habit'}\n          </Button>\n          {showForm && <HabitForm onSubmit={handleCreateHabit} />}\n        </Col>\n        <Col md={4}>\n          <Chart\n            width={'100%'}\n            height={'300px'}\n            chartType=\"PieChart\"\n            loader={<div>Loading Chart</div>}\n            data={chartData}\n            options={{\n              title: 'Habit Completion Rates',\n            }}\n          />\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}